variables:
  ACKNOWLEDGMENT_MESSAGE: "It's always a pleasure to help, let me know if if there's anything else I can assist you with"
  INTRODUCTION_MESSAGE: "Hi, I’m Willow, I'm here to guide you through the process of integrating a Chat assistant to your website"
  PROMPT_ADDED_TO_MAILING_LIST: "You've been added to our mailing list"
  PROMPT_ASK_USER_DATA: "I'll be glad to assist you. Before we continue, who do I have the pleasure of speaking with? Could you also share your email address?"
  PROMPT_FRUSTRATED_CUSTOMER: "I’m sorry I wasn’t able to help with that"
  PROMPT_GENERAL_FAQ_QUESTION: "Here's the answer to your response"
  PROMPT_GENERATED_RESPONSE: "This is a generated response"
  PROMPT_INTENT_GOODBYE: "It was a pleasure talking to you, good bye"
  PROMPT_INTENT_QUESTION_PRICING: "We invite you to review our pricing options by booking a call with us, we offer State of the Art artificial Intelligence to a very affordable price."
  PROMPT_INVITE_CREATE_ACCOUNT: "We'll be happy to build a chat assistant for you, the first step is to create an account in our website [MedbotPro](https://medbotpro.ai). You can review our video on how to easily add a knowledgebase for your assistant responses"
  PROMPT_OFFER_BOOK_CALL: "Would you like to schedule a free consultation call for us to build the best chat assistant for your needs"
  PROMPT_OFFER_NEWSLETTER: "Would you like to join our mailing list? We share updates about our chat assistants and information about how the get the best out of the latest AI tools for customer relations"
  PROMPT_OUT_OF_SCOPE: "I’m sorry I wasn’t able to help with that"
  PROMPT_OUT_OF_SCOPE_QUESTION: "I'm sorry, that information is out of my scope"
  PROMPT_PROVIDE_CONTACT_INFO: "No worries, you can always email us at *info@vtwebmarketing.com* with your inquiries about our services"
  WELCOME_MESSAGE: "Welcome to Medbot Pro, We'll be happy to assist you creating a bot assistant"

graph:
  id: "graph_linden"

  nodes:
    - id: "START"
      decision:
        state: "START"
        user_reply: "CLASSIFYING_INTENT"
    - id: "CLASSIFYING_INTENT"
      action: "use_tools"
      tools:
        - name: "classify_intent"
          type: "enum"
          options:
            - "is_question_pricing"
            - "is_out_of_scope_question"
            - "is_frustrated_needs_human"
            - "is_acknowledgment"
            - "is_general_faq_question"
            - "is_goodbye"
            - "is_mailing_list"
            - "is_bot_creation_request"
        - name: "is_found_on_embeddings"
          type: "boolean-flag"
        - name: "pending_user_data"
          type: "boolean-flag"
      decision:
        state: "CLASSIFYING_INTENT"
        classify_intent:_is_out_of_scope_question: "INTENT_OUT_OF_SCOPE_QUESTION"
        classify_intent:_is_frustrated_needs_human: "INTENT_FRUSTRATED_CUSTOMER"
        classify_intent:_is_acknowledgment: "CUSTOMER_ACKNOWLEDGES_RESPONSE"
        is_found_on_embeddings:_true: "REPLY_FROM_EMBEDDINGS"
        classify_intent:_is_general_faq_question: "INTENT_GENERAL_FAQ_QUESTION"
        pending_user_data:_true: "ASK_USER_DATA"
        classify_intent:_is_goodbye: "INTENT_GOODBYE"
        classify_intent:_is_mailing_list: "INTENT_MAILING_LIST"
        classify_intent:_is_bot_creation_request: "INTENT_QUESTION_BOT_CREATION"
        classify_intent:_is_question_pricing: "INTENT_QUESTION_PRICING"
    - id: "INTENT_OUT_OF_SCOPE_QUESTION"
      action: "send_message"
      message: "$PROMPT_OUT_OF_SCOPE_QUESTION"
      next: "OFFER_BOOK_CALL"
    - id: "OFFER_BOOK_CALL"
      action: "send_message"
      message: "$PROMPT_OFFER_BOOK_CALL"
      decision:
        state: "OFFER_BOOK_CALL"
        user_reply: "AWAITING_BOOK_CALL_OFFER_RESPONSE"
    - id: "AWAITING_BOOK_CALL_OFFER_RESPONSE"
      action: "use_tools"
      tools:
        - name: "user_accepts_book_call"
          type: "boolean-toggle"
      decision:
        state: "AWAITING_BOOK_CALL_OFFER_RESPONSE"
        user_accepts_book_call:_true: "BOOK_CALL_OFFER_ACCEPTED"
        user_accepts_book_call:_false: "BOOK_CALL_OFFER_DECLINED"
    - id: "BOOK_CALL_OFFER_ACCEPTED"
      action: "use_special_function"
      function_name: "send_book_call_link"
      message: "$PROMPT_OFFER_NEWSLETTER"
      next: "AWAITING_NEW_MESSAGE"
    - id: "AWAITING_NEW_MESSAGE"
      decision:
        state: "AWAITING_NEW_MESSAGE"
        user_reply: "CLASSIFYING_INTENT"
    - id: "BOOK_CALL_OFFER_DECLINED"
      action: "send_message"
      message: "$PROMPT_PROVIDE_CONTACT_INFO\n$PROMPT_OFFER_NEWSLETTER"
      next: "AWAITING_NEW_MESSAGE"
    - id: "INTENT_FRUSTRATED_CUSTOMER"
      action: "send_message"
      message: "$PROMPT_FRUSTRATED_CUSTOMER"
      next: "OFFER_BOOK_CALL"
    - id: "CUSTOMER_ACKNOWLEDGES_RESPONSE"
      action: "send_message"
      message: "$ACKNOWLEDGMENT_MESSAGE"
      next: "AWAITING_NEW_MESSAGE"
    - id: "REPLY_FROM_EMBEDDINGS"
      action: "use_special_function"
      function_name: "generate_response"
      message: "$PROMPT_GENERATED_RESPONSE"
      next: "OFFER_BOOK_CALL"
    - id: "INTENT_GENERAL_FAQ_QUESTION"
      action: "send_message"
      message: "$PROMPT_GENERAL_FAQ_QUESTION"
      next: "AWAITING_NEW_MESSAGE"
    - id: "ASK_USER_DATA"
      action: "send_message"
      message: "$PROMPT_ASK_USER_DATA"
      next: "AWAITING_NEW_MESSAGE"
    - id: "INTENT_GOODBYE"
      action: "send_message"
      message: "$PROMPT_INTENT_GOODBYE"
      next: "FINAL"
    - id: "INTENT_MAILING_LIST"
      action: "send_message"
      message: "$PROMPT_ADDED_TO_MAILING_LIST"
      next: "AWAITING_NEW_MESSAGE"
    - id: "INTENT_QUESTION_BOT_CREATION"
      action: "send_message"
      message: "$PROMPT_GENERATED_RESPONSE"
      next: "INVITE_CREATE_ACCOUNT"
    - id: "INVITE_CREATE_ACCOUNT"
      action: "send_message"
      message: "$PROMPT_INVITE_CREATE_ACCOUNT"
      next: "BOOK_CALL_OFFER_ACCEPTED"
    - id: "INTENT_QUESTION_PRICING"
      action: "send_message"
      message: "$PROMPT_INTENT_QUESTION_PRICING"
      next: "BOOK_CALL_OFFER_ACCEPTED"
    - id: "FINAL"